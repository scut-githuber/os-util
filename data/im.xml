<application>
    <startup>
        <name>进入程序</name>
        <description>用户启动程序后进行一系列的界面和数据的初始化</description>
        <view>查看程序主界面</view>
        <init>
            <init_ui>
                <name>初始化界面</name>
                <description>用户启动程序后初始化界面</description>
                <InitLayout>初始化布局文件</InitLayout>
                <InitWidgt>初始化控件</InitWidgt>
                <AddWidgt>添加控件到布局文件中</AddWidgt>
            </init_ui>
            <init_network>
                <name>初始化网络</name>
                <description>用户启动程序后初始化网络</description>
                <InitServerUrl>初始化服务器地址</InitServerUrl>
                <!-- 与服务器进行数据传送的操作，节点名称直接用Server就行 -->
                <Server>发送心跳包给服务器，测试是否能够正常访问服务器</Server>
            </init_network>
            <init_login>
                <name>初始化登录</name>
                <description>读取程序存储的用户登录信息，实现用户启动程序后自动登录</description>
                <ReadStorage>读取程序保存的用户名和密码</ReadStorage>
            </init_login>
        </init>
    </startup>
    <account>
        <scene>
            <name>登陆</name>
            <description>用于用户登陆</description>
            <view>显示登录界面</view>
            <modules path="app_IM/login/login.h">login</modules>
        </scene>
        <scene>
            <name>注册</name>
            <description>用于用户注册账户</description>
            <view>显示注册界面</view>
            <modules>signup</modules>
        </scene>
        <scene>
            <name>查看个人资料</name>
            <description>用于用户查看个人资料</description>
            <view>显示个人资料修改界面</view>
            <modules path="app_IM/viewprofile/viewprofile.h">viewprofile</modules>
        </scene>
        <scene>
            <name>编辑个人资料</name>
            <description>用于用户编辑个人资料</description>
            <view>显示个人资料编辑界面</view>
            <modules path="app_IM/editprofile/modifyProfile.h">editprofile</modules>
        </scene>
        <scene>
            <name>修改密码</name>
            <description>用于用户修该个人密码</description>
            <view>显示用户密码修改界面</view>
            <modules path="app_IM/changepwd/changepwd.h">changepasswd</modules>
        </scene>

    </account>
    <chat>
        <!-- 进入聊天界面 -->
        <scene>
            <name>进入聊天界面</name>
            <description>进入聊天界面</description>
            <view>显示聊天界面</view>
            <modules>enterInterface</modules>
        </scene>

        <!-- 发送聊天信息 -->
        <scene>
            <name>发送聊天信息</name>
            <description>用户发送聊天信息</description>
            <view>显示发送按钮，信息输入框</view>
            <modules path="app_IM/sendMessage/sendMessage.h">sendMessage</modules>
        </scene>

        <!-- 接受聊天信息 -->
        <scene>
            <name>接受聊天信息</name>
            <description>接受服务器传过来的信息并显示给用户</description>
            <view>显示聊天界面</view>
            <modules>getMessage</modules>
        </scene>

        <!-- 查看聊天记录 -->
        <scene>
            <name>查看聊天记录</name>
            <description>用于查看聊天记录</description>
            <view>显示聊天记录列表</view>
            <modules>viewRecord</modules>
        </scene>

        <!-- 搜索聊天记录 -->
        <scene>
            <name>搜索聊天记录</name>
            <description>根据关键字搜索对应的聊天记录</description>
            <view>显示聊天记录搜索框</view>
            <modules>searchRecord</modules>
        </scene>
    </chat>
    <friends>
        <searchuser>
            <name>查找好友</name>
            <description>查找好友</description>
            <module>客户端从输入框获取用户输入的查找条件</module>
            <module>客户端发送数据到服务器端</module>
            <module>服务器查询数据库</module>
            <module>服务器返回匹配的用户</module>
            <module>客户端获取服务器返回的结果</module>
            <module>客户端显示查找结果</module>
        </searchuser>
        <addfriend>
            <name>添加好友</name>
            <description>添加好友</description>
            <module>客户端发送添加好友请求到服务器</module>
            <module>服务器在数据库中查询是否已存在好友关系</module>
            <module>服务器转发好友请求到对方客户端</module>
            <module>对方客户端接收好友请求</module>
            <module>对方客户端同意好友请求</module>
            <module>对方客户端发送请求结果到服务器</module>
            <module>服务器转发请求结果到客户端</module>
            <module>客户端接收请求结果</module>
            <module>服务器添加好友关系到数据库</module>
            <module>服务器向双方客户端返回最新的好友列表</module>
            <module>双方客户端获取服务器返回的好友列表</module>
            <module>双方客户端更新各自好友列表</module>
        </addfriend>
        <viewfriendslist>
            <name>查看好友列表</name>
            <description>查看好友列表</description>
            <module>客户端发送查看好友列表请求到服务器</module>
            <module>服务器在数据库中查询该用户的好友关系</module>
            <module>服务器返回好友列表</module>
            <module>客户端获取服务器返回的好友列表</module>
            <module>客户端显示好友列表</module>
        </viewfriendslist>
        <deletefriend>
            <name>删除好友</name>
            <description>删除好友</description>
            <module path="app_IM/SearchUser/DeleteFriend/SendDeleteRequest.h">客户端向服务器发送删除好友请求</module>
            <module>服务器在数据库中查询是否存在好友关系</module>
            <module>服务器删除数据库中好友关系</module>
            <module>服务器向双方客户端返回最新的好友列表</module>
            <module path="app_IM/SearchUser/BrowseFriendList/GetFriendList.h">双方客户端获取服务器返回的好友列表</module>
            <module path="app_IM/SearchUser/AddFriends/UpdateLocalList.h">双方客户端更新各自好友列表</module>
        </deletefriend>

        <viewprofile>
            <name>查看好友资料</name>
            <description>查看好友资料</description>
            <module path="app_IM/SearchUser/ViewProfile/SendViewRequest.h">客户端向服务器发送查看好友资料请求</module>
            <module>服务器在数据库中查询是否具有好友关系</module>
            <module>服务器查询数据库并返回结果</module>
            <module path="app_IM/SearchUser/ViewProfile/GetReturnProfile.h">客户端获取服务器返回的结果</module>
            <module path="app_IM/SearchUser/ViewProfile/ViewProfile.h">客户端显示好友资料</module>
        </viewprofile>
    </friends>
    <scene>
        <name>退出程序</name>
        <description>用户点击退出按钮后进行程序的退出操作</description>
        <module>exit_application</module>
    </scene>
</application>
